{"remainingRequest":"/home/oyatillo/projects_UDEVS/IMAN/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/oyatillo/projects_UDEVS/IMAN/src/custom/Category/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/oyatillo/projects_UDEVS/IMAN/src/custom/Category/index.vue","mtime":1607243208771},{"path":"/home/oyatillo/projects_UDEVS/IMAN/node_modules/cache-loader/dist/cjs.js","mtime":1591510878407},{"path":"/home/oyatillo/projects_UDEVS/IMAN/node_modules/babel-loader/lib/index.js","mtime":1591510878253},{"path":"/home/oyatillo/projects_UDEVS/IMAN/node_modules/cache-loader/dist/cjs.js","mtime":1591510878407},{"path":"/home/oyatillo/projects_UDEVS/IMAN/node_modules/vue-loader/lib/index.js","mtime":1591510899487}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JwppbXBvcnQgcmVxdWVzdCBmcm9tICdAL3V0aWxzL3JlcXVlc3QnCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIHZhbHVlOiAnJywKICAgICAgZGF0YTogW10sCiAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgIHNlYXJjaEZvcm06IHsKICAgICAgICBzZWFyY2hLZXk6ICcnCiAgICAgIH0sCiAgICAgIGNvbHVtbnM6IFsKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogdGhpcy4kdCgnTm9taScpLAogICAgICAgICAgZGF0YUluZGV4OiAnbmFtZScKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiB0aGlzLiR0KCdhY3Rpb24nKSwKICAgICAgICAgIGtleTogJ2FjdGlvbicsCiAgICAgICAgICB3aWR0aDogJzIwJScsCiAgICAgICAgICBzY29wZWRTbG90czogeyBjdXN0b21SZW5kZXI6ICdhY3Rpb24nIH0KICAgICAgICB9CiAgICAgIF0sCiAgICAgIGZvcm06IHRoaXMuJGZvcm0uY3JlYXRlRm9ybSh0aGlzLCB7IG5hbWU6ICdjb29yZGluYXRlZCcgfSksCiAgICAgIHByZXZpZXdWaXNpYmxlOiBmYWxzZSwKICAgICAgc2VsZWN0ZWRDYXRlZ29yeTogeyB0YXJpZmZfZGV0YWlsczogeyBuYW1lOiAnJyB9IH0sCiAgICAgIHBhcmVudENhdGVnb3J5OiAnJywKICAgICAgZmlsdGVyUGFyYW1zOiB7fQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoWydjYXRlZ29yaWVzJywgJ3BhZ2luYXRpb25DYXRlZ29yaWVzJ10pLAogICAgZ2V0UGFnaW5hdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLnBhZ2luYXRpb25DYXRlZ29yaWVzCiAgICB9CiAgfSwKICBtb3VudGVkICgpIHsKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdnZXRDYXRlZ29yaWVzJykudGhlbihyZXMgPT4gewogICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgICB0aGlzLmRhdGEgPSByZXMuZGF0YQogICAgfSkKICB9LAogIGJlZm9yZURlc3Ryb3kgKCkgewogIH0sCiAgbWV0aG9kczogewogICAgLi4ubWFwQWN0aW9ucyhbJ2dldENhdGVnb3JpZXMnXSksCiAgICBoYW5kbGVUYWJsZUNoYW5nZSAocGFnaW5hdGlvbikgewogICAgICBjb25zdCBwYWdpbmF0aW9uTmV3ID0gewogICAgICAgIC4uLnBhZ2luYXRpb24sCiAgICAgICAgc2VhcmNoOiBudWxsCiAgICAgIH0KICAgICAgdGhpcy5nZXRDYXRlZ29yaWVzKHBhZ2luYXRpb25OZXcpCiAgICAudGhlbigocmVzKSA9PiBjb25zb2xlLmxvZyhyZXMpKQogICAgLmNhdGNoKGVyciA9PiB0aGlzLnJlcXVlc3RGYWlsZWQoZXJyKSkKICAgIH0sCiAgICBnZXRzZWxlY3RlZENhdGVnb3J5IChzZWxlY3RlZENhdGVnb3J5KSB7CiAgICAgIHJlcXVlc3QoewogICAgICAgIHVybDogJy9jYXRlZ29yaWVzLycgKyBzZWxlY3RlZENhdGVnb3J5LAogICAgICAgIG1ldGhvZDogJ2dldCcKICAgICAgfSkudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICB0aGlzLnNlbGVjdGVkQ2F0ZWdvcnkgPSByZXNwb25zZS5jYXRlZ29yeQogICAgICB9KQogICAgfSwKICAgIGhhbmRsZUNhbmNlbCAoKSB7CiAgICAgIHRoaXMucHJldmlld1Zpc2libGUgPSBmYWxzZQogICAgfSwKICAgIGRlbGV0ZUNhdGVnb3J5IChlLCBpZCkgewogICAgICByZXF1ZXN0KHsKICAgICAgICAgICAgICB1cmw6ICcvY2F0ZWdvcmllcy8nICsgaWQsCiAgICAgICAgICAgICAgbWV0aG9kOiAnZGVsZXRlJwogICAgICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcykKICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3ModGhpcy4kdCgnc3VjY2Vzc2Z1bGx5RGVsZXRlZCcpKQogICAgICAgICAgICAgIHRoaXMuZ2V0Q2F0ZWdvcmllcygpCiAgICAgICAgICB9KS50aGVuKGVyciA9PiB7CiAgICAgICAgaWYgKGVycikgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcih0aGlzLiR0KCdlcnJvcicpKQogICAgICAgIH0KICAgICAgfSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/custom/Category","sourcesContent":["<template>\n  <div>\n    <a-row>\n      <a-col :span=\"12\">\n        <a-breadcrumb style=\"margin: 10px 5px\">\n          <a-breadcrumb-item>{{ $t('categories') }}</a-breadcrumb-item>\n        </a-breadcrumb>\n      </a-col>\n\n      <a-col :span=\"12\">\n        <router-link v-action:add to=\"././create\">\n          <a-button style=\"float: right\" shape=\"round\" type=\"primary link\" icon=\"plus\">{{ $t('add') }}</a-button>\n        </router-link>\n      </a-col>\n    </a-row>\n\n    <a-card :title=\"$t('list')\">\n      <a-table\n        v-action:get\n        :columns=\"columns\"\n        :rowKey=\"record => record.id\"\n        :dataSource=\"data\"\n        :pagination=\"getPagination\"\n        :loading=\"loading\"\n        @change=\"handleTableChange\"\n      >\n        <template slot=\"action\" slot-scope=\"text, row\">\n          <!-- <a-tooltip><template slot=\"title\">{{ $t('read') }}</template>\n            <a-button style=\"margin-right: 6px\" id=\"buttonPreview\" type=\"default\" @click=\"showPreviewModal(row.id)\" icon=\"eye\"></a-button>\n          </a-tooltip> -->\n          <router-link v-action:update :to=\"'./update/'+row.id\" >\n            <a-tooltip><template slot=\"title\">{{ $t('update') }}</template>\n              <a-button style=\"margin-right: 6px\" id=\"buttonUpdate\" type=\"default\" icon=\"edit\"></a-button>\n            </a-tooltip>\n          </router-link>\n          <a-popconfirm\n            v-action:delete\n            placement=\"topRight\"\n            slot=\"extra\"\n            :title=\"$t('deleteMsg')\"\n            @confirm=\"deleteCategory($event, row.slug)\"\n            :okText=\"$t('yes')\"\n            :cancelText=\"$t('no')\"\n          >\n            <a-tooltip><template slot=\"title\">{{ $t('delete') }}</template>\n              <a-button id=\"buttonDelete\" type=\"danger\" icon=\"delete\"></a-button>\n            </a-tooltip>\n          </a-popconfirm>\n        </template>\n      </a-table>\n    </a-card>\n    <a-modal v-model=\"previewVisible\" width=\"800px\" :title=\"$t('previewCategory')\">\n      <a-descriptions layout=\"vertical\" bordered>\n        <a-descriptions-item :label=\"$t('title_uz')\">\n          {{ selectedCategory.title_uz ? selectedCategory.title_uz : '' }}\n        </a-descriptions-item>\n        <a-descriptions-item :label=\"$t('title_ru')\">\n          {{ selectedCategory.title_ru ? selectedCategory.title_ru : '' }}\n        </a-descriptions-item>\n        <a-descriptions-item :label=\"$t('tariff')\">\n          {{ selectedCategory.title_en ? selectedCategory.title_en : '' }}\n        </a-descriptions-item>\n      </a-descriptions>\n      <template slot=\"footer\">\n        <a-button id=\"buttonCancel\" key=\"back\" @click=\"handleCancel\">\n          {{ $t('cancel') }}\n        </a-button>\n      </template>\n    </a-modal>\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from 'vuex'\nimport request from '@/utils/request'\nexport default {\n  data () {\n    return {\n      value: '',\n      data: [],\n      loading: true,\n      searchForm: {\n        searchKey: ''\n      },\n      columns: [\n        {\n          title: this.$t('Nomi'),\n          dataIndex: 'name'\n        },\n        {\n          title: this.$t('action'),\n          key: 'action',\n          width: '20%',\n          scopedSlots: { customRender: 'action' }\n        }\n      ],\n      form: this.$form.createForm(this, { name: 'coordinated' }),\n      previewVisible: false,\n      selectedCategory: { tariff_details: { name: '' } },\n      parentCategory: '',\n      filterParams: {}\n    }\n  },\n  computed: {\n    ...mapGetters(['categories', 'paginationCategories']),\n    getPagination () {\n      return this.paginationCategories\n    }\n  },\n  mounted () {\n    this.$store.dispatch('getCategories').then(res => {\n      this.loading = false\n      this.data = res.data\n    })\n  },\n  beforeDestroy () {\n  },\n  methods: {\n    ...mapActions(['getCategories']),\n    handleTableChange (pagination) {\n      const paginationNew = {\n        ...pagination,\n        search: null\n      }\n      this.getCategories(paginationNew)\n    .then((res) => console.log(res))\n    .catch(err => this.requestFailed(err))\n    },\n    getselectedCategory (selectedCategory) {\n      request({\n        url: '/categories/' + selectedCategory,\n        method: 'get'\n      }).then((response) => {\n        this.selectedCategory = response.category\n      })\n    },\n    handleCancel () {\n      this.previewVisible = false\n    },\n    deleteCategory (e, id) {\n      request({\n              url: '/categories/' + id,\n              method: 'delete'\n          }).then(res => {\n              console.log(res)\n              this.$message.success(this.$t('successfullyDeleted'))\n              this.getCategories()\n          }).then(err => {\n        if (err) {\n          this.$message.error(this.$t('error'))\n        }\n      })\n    }\n  }\n}\n</script>\n"]}]}